import unittest
from day7 import Day7


class MyTestCase(unittest.TestCase):
    def test_day7(self):
        day7 = Day7("input_test")
        lines = day7.lines
        #print(f"\n{repr(lines)}")
        self.assertEqual(repr(lines),
                         "['.......S.......', '...............', '.......^.......', '...............', '......^.^......', '...............', '.....^.^.^.....', '...............', '....^.^...^....', '...............', '...^.^...^.^...', '...............', '..^...^.....^..', '...............', '.^.^.^.^.^...^.', '...............']")

        chartable = day7.chartable
        #print(f"\n{repr(chartable)}")
        self.assertEqual(repr(chartable),
                         "[['.', '.', '.', '.', '.', '.', '.', 'S', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '^', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '^', '.', '^', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '^', '.', '^', '.', '^', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '^', '.', '^', '.', '.', '.', '^', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '^', '.', '^', '.', '.', '.', '^', '.', '^', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '^', '.', '.', '.', '^', '.', '.', '.', '.', '.', '^', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'], ['.', '^', '.', '^', '.', '^', '.', '^', '.', '^', '.', '.', '.', '^', '.'], ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.']]")

        count = day7.traverse_and_count()
        #print(f"{repr(chartable)}")
        #print(f"{count}")
        self.assertEqual(repr(chartable),
        "[['.', '.', '.', '.', '.', '.', '.', 'S', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', '.', 'S', '.', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', 'S', '^', 'S', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', '.', 'S', '.', 'S', '.', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', 'S', '^', 'S', '^', 'S', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', '.', 'S', '.', 'S', '.', 'S', '.', '.', '.', '.', '.'], ['.', '.', '.', '.', 'S', '^', 'S', '^', 'S', '^', 'S', '.', '.', '.', '.'], ['.', '.', '.', '.', 'S', '.', 'S', '.', 'S', '.', 'S', '.', '.', '.', '.'], ['.', '.', '.', 'S', '^', 'S', '^', 'S', 'S', 'S', '^', 'S', '.', '.', '.'], ['.', '.', '.', 'S', '.', 'S', '.', 'S', 'S', 'S', '.', 'S', '.', '.', '.'], ['.', '.', 'S', '^', 'S', '^', 'S', 'S', 'S', '^', 'S', '^', 'S', '.', '.'], ['.', '.', 'S', '.', 'S', '.', 'S', 'S', 'S', '.', 'S', '.', 'S', '.', '.'], ['.', 'S', '^', 'S', 'S', 'S', '^', 'S', 'S', '.', 'S', 'S', '^', 'S', '.'], ['.', 'S', '.', 'S', 'S', 'S', '.', 'S', 'S', '.', 'S', 'S', '.', 'S', '.'], ['S', '^', 'S', '^', 'S', '^', 'S', '^', 'S', '^', 'S', 'S', 'S', '^', 'S'], ['S', '.', 'S', '.', 'S', '.', 'S', '.', 'S', '.', 'S', 'S', 'S', '.', 'S']]")
        self.assertEqual(count,21)

        day7 = Day7("input")
        count = day7.traverse_and_count()
        print(f"{count}")
        self.assertEqual(count, 1640)

if __name__ == '__main__':
    unittest.main()
